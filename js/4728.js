"use strict";(self.webpackChunkreact_amis_admin=self.webpackChunkreact_amis_admin||[]).push([[4728],{4728:function(e,r,t){t.r(r),t.d(r,{default:function(){return k}});var n=t(61322),a=t(5966),o=t(16434),i=t(63434),s=t(89366),c=t(2603),u=t(80521),l=t(55026),f=t(47428),p=t(67294),m=t(33486),d=t(96486),h=t.n(d),g="Login--container--Z4LfsRa",y=t(44725),b=t(85893);function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){v(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function v(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function w(e,r,t,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,a)}function O(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){w(o,n,a,i,s,"next",e)}function s(e){w(o,n,a,i,s,"throw",e)}i(void 0)}))}}function P(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,a,o=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return o}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return Z(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Z(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var S=function(){var e=P(y.Z.useModel("user"),2),r=(e[0],e[1]),t=P((0,p.useState)("account"),2),d=t[0],j=t[1],v=function(){var e=O(regeneratorRuntime.mark((function e(t){var n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.userLogin(x(x({},t),{},{type:"member"}));case 2:(n=e.sent)&&(a=h().get(n,"jwt.access_token",""),o=h().get(n,"user.id",""),localStorage.setItem("token","bearer ".concat(a)),localStorage.setItem("userId",o),m.m8.push("/goods/list"));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),w=function(){var e=O(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.sendVerCode(t);case 2:e.sent&&l.ZP.success("\u624b\u673a\u53f7 ".concat(t," \u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f!"));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,b.jsx)("div",{className:g,children:(0,b.jsxs)(n.U,{onFinish:v,title:"\u6b22\u8fce\u767b\u5f55",subTitle:"\u540e\u53f0\u7ba1\u7406",children:[(0,b.jsx)(f.Z,{activeKey:d,onChange:function(e){return j(e)},children:(0,b.jsx)(f.Z.TabPane,{tab:"\u5bc6\u7801\u767b\u5f55"},"account")}),"account"===d&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a.Z,{name:"username",initialValue:"11111111111",fieldProps:{size:"large",prefix:(0,b.jsx)(s.Z,{className:"prefixIcon"})},placeholder:"\u7528\u6237\u540d:",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]}),(0,b.jsx)(a.Z.Password,{name:"password",initialValue:"123456",fieldProps:{size:"large",prefix:(0,b.jsx)(c.Z,{className:"prefixIcon"})},placeholder:"\u5bc6\u7801: ",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"}]})]}),"phone"===d&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a.Z,{fieldProps:{size:"large",prefix:(0,b.jsx)(u.Z,{className:"prefixIcon"})},name:"mobile",placeholder:"\u624b\u673a\u53f7",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"},{pattern:/^1\d{10}$/,message:"\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef\uff01"}]}),(0,b.jsx)(o.Z,{fieldProps:{size:"large",prefix:(0,b.jsx)(c.Z,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",captchaTextRender:function(e,r){return e?"".concat(r," ","\u83b7\u53d6\u9a8c\u8bc1\u7801"):"\u83b7\u53d6\u9a8c\u8bc1\u7801"},name:"captcha",phoneName:"mobile",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\uff01"}],onGetCaptcha:function(){var e=O(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(r);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()})]}),(0,b.jsxs)("div",{style:{marginBottom:24},children:[(0,b.jsx)(i.Z,{noStyle:!0,name:"autoLogin",children:"\u81ea\u52a8\u767b\u5f55"}),(0,b.jsx)("a",{style:{float:"right"},children:"\u5fd8\u8bb0\u5bc6\u7801"})]})]})})},k=S}}]);